<!DOCTYPE html>
<html lang="en">
<head>
	<head th:replace="head"></head>
	<title>商户订单排行</title>
	<script src="https://unpkg.com/qiniu-js@2.5.3/dist/qiniu.min.js"></script>
	<style type="text/css">
	.form-group img{
		max-width:400px;
		max-height:300px;
	}
	</style>
</head>
<body class="page-body">

	<div class="page-container"><!-- add class "sidebar-collapsed" to close sidebar by default, "chat-visible" to make chat appear always -->
			
		<div th:replace="sidebar-menu"></div>
		<div class="main-content">
			<!-- User Info, Notifications and activity Bar -->
			<nav th:replace="navbar"></nav>
			<div class="page-title">
				
				<div class="title-env">
					<h1 class="title">商户订单排行</h1>
					<p class="activityDescription"></p>
				</div>

				<div class="breadcrumb-env">

					<ol class="breadcrumb bc-1">
						<li><a href="/"><i class="fa-home"></i>Home</a></li>
						<li><a>系统管理</a></li>
						<li class="active"><strong>商户订单排行</strong></li>
					</ol>

				</div>

			</div>
			
			<div class="panel panel-default">
				<div class="panel-heading">
					<form role="form" class="form-inline">
						<div class="form-group ">
							<div class="input-group">
							</div>
						</div>
						<div class="form-group">
<!--							<button class="btn btn-secondary btn-single searchBtn" style="height:35px">查询</button>-->
						</div>
						
					</form>
				</div>
				<div class="panel-body">
					<table id="example-1" class="table table-striped table-bordered" cellspacing="0" width="100%">
					</table>
				</div>
			</div>

					
			<footer th:replace="footer"></footer>
		</div>
	</div>
	
	<div th:replace="body-under"></div>
	<script src="js/common.js"></script>
	<script src="assets/js/dataTables.rowReorder.min.js"></script>
	<script th:inline="javascript">
	/*<![CDATA[*/

	function buildImg(url) {
		return "<img width='100px' height='100px' src='#' />".replace("#", url);
	}

	var table_global;
	jQuery(document).ready(function($)
	{
		var oTable = $("#example-1").dataTable({
			language: {
				url: "../assets/Chinese.txt"
			},
			lengthChange: false,
			paging: false,
			bFilter: false,
			bServerSide: false,//服务器处理分页，默认是false，需要服务器处理，必须true
			sAjaxDataProp: "data",//是服务器分页的标志，必须有
			sAjaxSource: "/merchantOrder_list",//通过ajax实现分页的url路径。
			fnServerParams: function (aData) {
				var searchArray = $(".form-inline").serializeArray();
				$.merge(aData, searchArray);
			},
			order: [[4, "desc"]],
			columnDefs: [
				{
					targets: 0,
					data: "merchantId",
					title: "商户ID"
				},
				{
					targets: 1,
					data: "merchantName",
					title: "商户名"
				},
				{
					targets: 2,
					data: "merchantLogo",
					title: "商户LOGO",
					render: function (data, type, row, meta) {
						return buildImg(data);
					}
				},
				{
					targets: 3,
					data: "merchantBrandCount",
					title: "售卖品牌数"
				},
				{
					targets: 4,
					data: "merchantOrderCount",
					title: "订单数"
				},
				{
					targets: 5,
					data: "merchantGoodsCount",
					title: "商品数"
				}
			]
		});
		table_global = oTable;
		table_global.on('row-reorder', function (e, diff, edit) {
			console.log(diff);
		});
	});
	/*]]>*/
	</script>
</body>
</html>
